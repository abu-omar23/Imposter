<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Imposter Wortspiel ‚Äì Vollversion</title>
  <style>
  * {
    box-sizing: border-box;
  }

  html, body {
    user-select: none;
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    height: 100%;
    background: linear-gradient(180deg, #7ec8e3 0%, #b5e2fa 50%, #e3f6ff 100%);
    overscroll-behavior: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-x: hidden; /* verhindert horizontales Scrollen */
    max-width: 100vw;   /* fixiert Breite */
  }

  .card {
    background: #fff;
    border-radius: 25px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    padding: 30px 25px;
    max-width: 480px;
    margin: 40px auto;
    width: 92%;
    text-align: center;
    transition: 0.3s;
}
  }

  h1 {
    color: #222;
    font-size: 1.9em;
    font-weight: 700;
    margin-bottom: 15px;
  }

  h2, p {
    color: #333;
  }

  input {
    margin: 8px auto;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1em;
    width: 90%;
    display: block;
    background: #f9f9f9;
    transition: all 0.2s ease;
  }

  input:focus {
    outline: none;
    border-color: #4CAF50;
    background: #fff;
    box-shadow: 0 0 5px #4CAF50;
  }

  button {
    margin: 8px auto;
    padding: 12px 16px;
    border-radius: 15px;
    border: none;
    font-size: 1em;
    font-weight: 600;
    color: white;
    cursor: pointer;
    background: linear-gradient(90deg, #4CAF50, #45a049);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
    width: 90%;
  }

  button:hover {
    transform: translateY(-2px);
    background: linear-gradient(90deg, #45a049, #3e8e41);
  }

  #playerControl {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    margin: 15px 0;
  }

  #playerControl button {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    font-size: 1.4em;
    background: linear-gradient(90deg, #4CAF50, #45a049);
  }

  #playerCountDisplay {
    font-weight: bold;
    font-size: 1.4em;
    color: #222;
  }
  #imposterControl {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    margin: 15px 0;
  }

  #imposterControl button {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    font-size: 1.4em;
    background: linear-gradient(90deg, #4CAF50, #45a049);
    border: none;
    color: white;
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  }
  
  #imposterCountDisplay {
    font-weight: bold;
    font-size: 1.4em;
    color: #222;
  }

  .checkboxes {
    display: none;
    margin-top: 15px;
    background: rgba(255, 255, 255, 0.95);
    padding: 15px;
    border-radius: 18px;
    border: 1px solid #ccc;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    max-height: 60vh;
    overflow-y: auto;
    transition: all 0.3s ease;
  }
  
  .checkboxes.visible {
    display: block;
    animation: fadeIn 0.3s ease;
  }
  
  .checkboxes label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8px 0;
    background: #f3faff;
    padding: 10px 14px;
    border-radius: 12px;
    font-weight: 500;
    color: #333;
    transition: background 0.2s;
    cursor: pointer;
  }
  
  .checkboxes label:hover {
    background: #e8f5e9;
  }
  
  .checkboxes input[type="checkbox"] {
    appearance: none;
    width: 40px;
    height: 22px;
    background: #ccc;
    border-radius: 20px;
    position: relative;
    outline: none;
    transition: 0.3s;
    cursor: pointer;
  }
  
  .checkboxes input[type="checkbox"]::before {
    content: "";
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    top: 2px;
    left: 2px;
    background: white;
    transition: 0.3s;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  }
  
  .checkboxes input[type="checkbox"]:checked {
    background: #4CAF50;
  }
  
  .checkboxes input[type="checkbox"]:checked::before {
    transform: translateX(18px);
  }
  
  .checkboxes button {
    border: none;
    border-radius: 10px;
    color: white;
    font-weight: 600;
    padding: 8px 0;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
    transition: 0.2s;
  }
  
  .checkboxes button:hover {
    transform: scale(1.05);
  }
  #game {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    gap: 15px;
  }
  
  #cardContainer {
    position: relative;
    width: 80vw;
    max-width: 340px;
    aspect-ratio: 3 / 4;
    margin: 10px auto 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transform: translateZ(0);
  }
  
  /* Wortkarte (unten) */
  #wordCard {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 50%;
    border-radius: 18px;
    background: #222;
    color: #f8f8f8;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-size: 1.2em;
    font-weight: 600;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
    z-index: 1;
  }
  
  /* Swipe-Karte (oben) */
  #swipeCard {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 50%;
    border-radius: 18px;
    background: linear-gradient(135deg, #8a2be2, #e100ff);
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-size: 1.2em;
    font-weight: bold;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    z-index: 100;
    pointer-events: auto;
    transform: translate(-50%, -50%) translateZ(10px);
  }



















  #reveal {
    font-size: 1.2em;
    font-weight: bold;
    color: #b30000;
    margin-top: 25px;
    white-space: pre-wrap;
  }

  #timerDisplay {
    font-size: 1.1em;
    color: #222;
    margin-top: 10px;
    display: none;
  }

  #resetPointsBtn {
    background: #777;
    width: 80%;
    margin-top: 25px;
    display: none;
  }

  #resetPointsBtn:hover {
    background: #555;
  }

.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}

.switch input { display: none; }

.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 34px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #4CAF50;
}

input:checked + .slider:before {
  transform: translateX(24px);
}


    
</style>


  
</head>
<body>
  <div class="card" id="setup">
    <h1>Imposter Wortspiel üïµÔ∏è‚Äç‚ôÇÔ∏è</h1>
    <button onclick="toggleCategoryMenu()">Kategorien √§ndern</button>
    <div class="checkboxes" id="categoryList">
      <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <button type="button" onclick="selectAllCategories(true)" style="background:#4CAF50;width:48%;font-size:0.9em;">Alle ausw√§hlen</button>
        <button type="button" onclick="selectAllCategories(false)" style="background:#e53935;width:48%;font-size:0.9em;">Alle abw√§hlen</button>
      </div>
    </div>
    
    <p>Wie viele Spieler?</p>
    <div id="playerControl">
      <button onclick="changePlayerCount(-1)">‚àí</button>
      <span id="playerCountDisplay">4</span>
      <button onclick="changePlayerCount(1)">+</button>
    </div>
    
    <p>Wie viele Imposter?</p>
    <div id="imposterControl" class="controlRow">
      <button onclick="changeImposterCount(-1)">‚àí</button>
      <span id="imposterCountDisplay">1</span>
      <button onclick="changeImposterCount(1)">+</button>
    </div>
    
    <p>Hinweise anzeigen?</p>
    <label class="switch">
      <input type="checkbox" id="hintSwitch" checked>
      <span class="slider"></span>
    </label>
    
    <div id="nameInputs" style="text-align: center;"></div>
    </div>

  #
  <div class="card" id="game" style="display:none">
    <h2 id="playerName"></h2>

    <div id="cardContainer">
      <div id="wordCard">üóùÔ∏è Wort anzeigen...</div>
      <div id="swipeCard">üîí Wische nach oben üëÜ</div>
    </div>

    <p id="statusText"></p>
    <p id="timerDisplay">‚è±Ô∏è Zeit: 00:00</p>


    <button id="nextBtn" onclick="nextPlayer()">‚û°Ô∏è N√§chster Spieler</button>
    <button id="startRoundBtn" onclick="showStarter()">üé≤ Runde starten</button>
    <button id="revealImposterBtn" onclick="revealImposter()">üòà Imposter aufdecken</button>
    <button id="crewWinBtn" onclick="awardPoints(false)">‚úîÔ∏è Crew gewinnt</button>
    <button id="imposterWinBtn" onclick="awardPoints(true)">üòà Imposter gewinnt</button>
    <button id="restartBtn" onclick="startNewRound()">üîÅ Neue Runde</button>

    <div id="reveal"></div>
    <button id="resetPointsBtn" onclick="resetPoints()">üóëÔ∏è Punkte l√∂schen</button>
  </div>

  <script>
    const wordPool = {
      leicht: [
    ["Ball", "Leder"], ["Haus", "Dach"], ["Auto", "Verkehr"], ["Buch", "Seiten"], ["Stuhl", "Sitzen"],
    ["Lampe", "Licht"], ["Tisch", "Essen"], ["Fenster", "Glas"], ["Brot", "Scheibe"], ["Schl√ºssel", "Schloss"],
    ["Gabel", "Besteck"], ["Tasse", "Kaffee"], ["Flasche", "Wasser"], ["Schule", "Pause"], ["Lehrer", "Tafel"],
    ["Brief", "Umschlag"], ["Hund", "Leine"], ["Katze", "Schnurren"], ["Uhr", "Zeit"], ["Garten", "Zaun"],
    ["Stra√üe", "Asphalt"], ["Bett", "Decke"], ["Kissen", "Schlaf"], ["Wasser", "Quelle"], ["Wolke", "Himmel"],
    ["Sonne", "Strahl"], ["Mond", "Nacht"], ["Stern", "Glitzer"], ["Schnee", "K√§lte"], ["Blume", "Duft"],
    ["Vogel", "Fl√ºgel"], ["T√ºr", "Klinke"], ["Kerze", "Flamme"], ["K√ºche", "Kochen"], ["Schrank", "Regal"],
    ["Radio", "Musik"], ["Computer", "Tastatur"], ["Telefon", "Klingeln"], ["Bus", "Haltestelle"], ["Geld", "M√ºnze"],
    ["Foto", "Bild"], ["Zug", "Gleis"], ["Wiese", "Gras"], ["Schuh", "Sohle"], ["Jacke", "Rei√üverschluss"],
    ["Rucksack", "Tragen"], ["Brille", "Sehen"], ["Apfel", "Obst"], ["Kerze", "Wachs"], ["Pfanne", "Kochen"]
  ],
      sport: [
    ["Fu√üball", "Rasen"], ["Basketball", "Korb"], ["Tennis", "Aufschlag"], ["Schwimmen", "Bahn"], ["Laufen", "Tempo"],
    ["Radfahren", "Pedale"], ["Boxen", "Ring"], ["Volleyball", "Netz"], ["Skifahren", "Berg"], ["Klettern", "Griff"],
    ["Reiten", "Sattel"], ["Surfen", "Welle"], ["Skaten", "Brett"], ["Golf", "Loch"], ["Handball", "Halle"],
    ["Tanzen", "Bewegung"], ["Yoga", "Ruhe"], ["Judo", "G√ºrtel"], ["Eishockey", "Puck"], ["Rudern", "Boot"],
    ["Kanu", "Paddel"], ["Fechten", "Degen"], ["Bogenschie√üen", "Ziel"], ["Tauchen", "Maske"], ["Segeln", "Wind"],
    ["Kegeln", "Bahn"], ["Wandern", "Berg"], ["Motorsport", "Helm"], ["Tischtennis", "Platte"], ["Baseball", "Schl√§ger"],
    ["Snowboard", "Winter"], ["Ringen", "Matte"], ["Ballett", "Tutu"], ["Marathon", "Ausdauer"], ["Fahrrad", "Kette"],
    ["Dart", "Pfeil"], ["Skispringen", "Schanze"], ["Eislaufen", "Kufen"], ["Triathlon", "Disziplin"], ["Boxsack", "Training"],
    ["Bowling", "Kugel"], ["Reiten", "Pferd"], ["Bergsteigen", "Seil"], ["Turnen", "Ger√§t"], ["Joggen", "Park"],
    ["Gymnastik", "Dehnung"], ["Sprint", "Start"], ["Hockey", "Schl√§ger"], ["Schwimmbrille", "Wasser"], ["Kraftsport", "Hantel"]
  ],
      schule: [
    ["Tafel", "Kreide"], ["Lehrer", "Klasse"], ["Buch", "Lesen"], ["Sch√ºler", "Pause"], ["Heft", "Blatt"],
    ["Bleistift", "Spitzer"], ["Radiergummi", "Fehler"], ["Lineal", "Messen"], ["Atlas", "Karte"], ["Chemie", "Labor"],
    ["Biologie", "Zelle"], ["Physik", "Kraft"], ["Mathe", "Zahl"], ["Deutsch", "Grammatik"], ["Englisch", "Sprache"],
    ["Kunst", "Farbe"], ["Musik", "Instrument"], ["Sport", "Halle"], ["Geschichte", "Zeit"], ["Erdkunde", "Land"],
    ["Direktor", "B√ºro"], ["Hausaufgabe", "Abgabe"], ["Klassenarbeit", "Punkte"], ["Zeugnis", "Note"], ["Schulbus", "Haltestelle"],
    ["Schulhof", "Ball"], ["Pausebrot", "Butter"], ["Rucksack", "Tragen"], ["Tafelwischer", "Schwamm"], ["Tinte", "F√ºller"],
    ["Schulweg", "Ampel"], ["Lernen", "Wissen"], ["Test", "Bewertung"], ["Arbeitsblatt", "Aufgabe"], ["Taschenrechner", "Rechnen"],
    ["Zirkel", "Kreis"], ["Aufsatz", "Text"], ["Schulbank", "Sitzen"], ["Lehrplan", "Thema"], ["Klassenraum", "Tafel"],
    ["Whiteboard", "Marker"], ["Buchseite", "Lesen"], ["Schulmappe", "Heft"], ["Pausengong", "Ton"], ["Projektor", "Bild"],
    ["Tafelbild", "Schrift"], ["Notenheft", "Bewertung"], ["Abschluss", "Feier"], ["Pr√§sentation", "Thema"], ["Experiment", "Versuch"]
  ],
      technik: [
    ["Computer", "Prozessor"], ["Handy", "Display"], ["Tablet", "Touch"], ["Fernseher", "Bildschirm"], ["Laptop", "Tastatur"],
    ["Drucker", "Papier"], ["Scanner", "Dokument"], ["Router", "Signal"], ["Kabel", "Stecker"], ["Kamera", "Linse"],
    ["Mikrofon", "Ton"], ["Kopfh√∂rer", "Musik"], ["USB", "Speicher"], ["Akku", "Ladung"], ["Monitor", "Anzeige"],
    ["Maus", "Klick"], ["Lautsprecher", "Sound"], ["Smartwatch", "Armband"], ["Konsole", "Spiele"], ["Joystick", "Steuerung"],
    ["Roboter", "Maschine"], ["Drohne", "Flug"], ["WLAN", "Verbindung"], ["Server", "Netzwerk"], ["Cloud", "Daten"],
    ["Festplatte", "Datei"], ["App", "Symbol"], ["Website", "Browser"], ["Algorithmus", "Regel"], ["Datenbank", "Information"],
    ["Prozessor", "Chip"], ["Tastatur", "Taste"], ["E-Mail", "Nachricht"], ["Sensor", "Messung"], ["Steckdose", "Strom"],
    ["Laser", "Licht"], ["Smartphone", "Nachricht"], ["Headset", "Gespr√§ch"], ["PlayStation", "Controller"], ["Switch", "Konsole"],
    ["Bildschirm", "Pixel"], ["Browser", "Surfen"], ["Netzteil", "Energie"], ["Bluetooth", "Verbindung"], ["Software", "Programm"],
    ["Hardware", "Bauteil"], ["Grafikkarte", "Bild"], ["Modem", "Signal"], ["Mikrochip", "Technik"], ["Ladeger√§t", "Kabel"]
  ],
      essen: [
    ["Apfel", "Baum"], ["Banane", "Schale"], ["K√§se", "Milch"], ["Brot", "Backofen"], ["Pizza", "Ofen"],
    ["Nudel", "So√üe"], ["Reis", "Asien"], ["Fisch", "Meer"], ["Fleisch", "Grill"], ["Salat", "Gem√ºse"],
    ["Zucker", "S√º√ü"], ["Salz", "Streuer"], ["Ei", "Pfanne"], ["Butter", "Brot"], ["Honig", "Biene"],
    ["Milch", "Kuh"], ["Wurst", "Br√∂tchen"], ["Joghurt", "Becher"], ["Kuchen", "Ofen"], ["Keks", "Knusper"],
    ["Eis", "Kalt"], ["Schokolade", "Tafel"], ["Birne", "Baum"], ["Orange", "Vitamin"], ["Zitrone", "Sauer"],
    ["Marmelade", "Frucht"], ["Suppe", "L√∂ffel"], ["Kartoffel", "Knolle"], ["Pommes", "Fritteuse"], ["Steak", "Pfanne"],
    ["Apfelmus", "L√∂ffel"], ["Pudding", "Vanille"], ["Waffel", "Teig"], ["Sahne", "Kuchen"], ["Torte", "Kerze"],
    ["Toast", "Toaster"], ["Br√∂tchen", "B√§cker"], ["Kaffee", "Bohne"], ["Tee", "Tasse"], ["Saft", "Frucht"],
    ["Wasser", "Durst"], ["Cola", "Blase"], ["Bier", "Hopfen"], ["Wein", "Traube"], ["Nuss", "Schale"],
    ["Kirsche", "Rot"], ["Pfirsich", "Flaum"], ["Erdbeere", "Sommer"], ["Melone", "Kern"], ["Ananas", "S√ºdsee"]
  ],
      berufe: [
    ["Arzt", "Patient"], ["Lehrer", "Tafel"], ["B√§cker", "Ofen"], ["Polizist", "Uniform"], ["Feuerwehrmann", "L√∂schen"],
    ["Mechaniker", "Werkstatt"], ["Elektriker", "Kabel"], ["G√§rtner", "Pflanze"], ["Koch", "Pfanne"], ["Friseur", "Schere"],
    ["Kellner", "Teller"], ["Verk√§ufer", "Kasse"], ["Bauer", "Feld"], ["Pilot", "Flugzeug"], ["Zahnarzt", "Bohrer"],
    ["Architekt", "Plan"], ["Ingenieur", "Maschine"], ["Journalist", "Artikel"], ["Fotograf", "Kamera"], ["Musiker", "Instrument"],
    ["Schauspieler", "B√ºhne"], ["Designer", "Mode"], ["Richter", "Urteil"], ["Anwalt", "Mandant"], ["Apotheker", "Medizin"],
    ["Tierarzt", "Hund"], ["Chemiker", "Labor"], ["Maurer", "Stein"], ["Schreiner", "Holz"], ["Maler", "Farbe"],
    ["Busfahrer", "Lenkrad"], ["Lokf√ºhrer", "Zug"], ["Brieftr√§ger", "Post"], ["Bibliothekar", "B√ºcher"], ["Sekret√§r", "Computer"],
    ["Florist", "Blumen"], ["Fischer", "Netz"], ["Metzger", "Fleisch"], ["Programmierer", "Code"], ["Trainer", "Sport"],
    ["S√§nger", "Mikrofon"], ["Autor", "Buch"], ["Zimmermann", "Hammer"], ["Banker", "Geld"], ["Politiker", "Rede"]
  ],
      haustier: [
    ["Hund", "Leine"], ["Katze", "Schnurren"], ["Hamster", "Rad"], ["Meerschweinchen", "Pfeifen"], ["Kaninchen", "M√∂hre"],
    ["Papagei", "Sprechen"], ["Goldfisch", "Aquarium"], ["Schildkr√∂te", "Panzer"], ["Wellensittich", "Fl√ºgel"], ["Ratte", "Schwanz"],
    ["Maus", "K√§se"], ["Pferd", "Box"], ["Ziege", "Meckern"], ["Schaf", "Wolle"], ["Esel", "Wiehern"],
    ["Huhn", "Ei"], ["Hahn", "Kamm"], ["Katze", "Krallen"], ["Hund", "Pfote"], ["Hamster", "K√§fig"],
    ["Kaninchen", "Fell"], ["Meerschweinchen", "Stroh"], ["Goldfisch", "Wasser"], ["Schildkr√∂te", "Langsamkeit"],
    ["Pferd", "Sattel"], ["Papagei", "Federn"], ["Vogel", "K√§fig"], ["Hund", "Treue"], ["Katze", "Blick"],
    ["Pferd", "M√§hne"], ["Fisch", "Flosse"], ["Reptil", "Terrarium"], ["Vogel", "Singen"], ["Hund", "Freund"],
    ["Katze", "Kratzbaum"], ["Pferd", "Reiten"], ["Hund", "Wachsamkeit"], ["Katze", "Sofa"], ["Vogel", "Flug"],
    ["Ziege", "Milch"], ["Hamster", "Backe"], ["Kaninchen", "Nase"], ["Papagei", "Schnabel"], ["Hund", "Schwanz"]
  ],
      saegetier: [
    ["Elefant", "R√ºssel"], ["L√∂we", "M√§hne"], ["Tiger", "Streifen"], ["Pferd", "Hufe"], ["Kuh", "Milch"],
    ["Affe", "Banane"], ["B√§r", "Tatze"], ["Wolf", "Rudel"], ["Fuchs", "Schwanz"], ["Schwein", "Nase"],
    ["Zebra", "Streifen"], ["Giraffe", "Hals"], ["Nashorn", "Horn"], ["K√§nguru", "Beutel"], ["Koala", "Baum"],
    ["Delfin", "Meer"], ["Wal", "Flosse"], ["Fledermaus", "Flug"], ["Panda", "Bambus"], ["Leopard", "Fleck"],
    ["Igel", "Stachel"], ["Kamel", "W√ºste"], ["Esel", "Last"], ["Schaf", "Wolle"], ["Ziege", "Berg"],
    ["Kaninchen", "Springen"], ["Reh", "Wald"], ["Hirsch", "Geweih"], ["B√ºffel", "Herde"], ["Waschb√§r", "Maske"],
    ["Otter", "Wasser"], ["Ratte", "Schwanz"], ["Dachs", "Bau"], ["Biber", "Staudamm"], ["Feldhase", "Feld"],
    ["Orang-Utan", "Wald"], ["Gorilla", "Kraft"], ["Seekuh", "Meer"], ["Walross", "Zahn"], ["Puma", "Berg"],
    ["Luchs", "Ohren"], ["Murmeltier", "Winterschlaf"], ["Faultier", "Langsamkeit"], ["Kojote", "W√ºste"], ["Antilope", "Lauf"],
    ["Wildschwein", "Jagd"], ["Nagetier", "Z√§hne"]
  ],
      hobbys: [
    ["Lesen", "Buch"], ["Malen", "Pinsel"], ["Fotografie", "Kamera"], ["Kochen", "Rezept"], ["Backen", "Teig"],
    ["G√§rtnern", "Blumen"], ["Angeln", "See"], ["Schwimmen", "Becken"], ["Wandern", "Berg"], ["Joggen", "Strecke"],
    ["Reiten", "Pferd"], ["Tanzen", "Musik"], ["Singen", "Stimme"], ["Musik", "Instrument"], ["Zeichnen", "Papier"],
    ["Modellbau", "Kleber"], ["N√§hen", "Stoff"], ["Stricken", "Wolle"], ["Basteln", "Schere"], ["Bloggen", "Text"],
    ["Spielen", "Konsole"], ["Filme", "Kino"], ["Serien", "Folgen"], ["Yoga", "Ruhe"], ["Meditation", "Stille"],
    ["Laufen", "Schuhe"], ["Sammeln", "Objekte"], ["Schreiben", "Stift"], ["Reisen", "Koffer"], ["Gitarre", "Saiten"],
    ["Klavier", "Tasten"], ["Schach", "Brett"], ["Videospiele", "Controller"], ["Fotobearbeitung", "Computer"], ["Origami", "Papier"],
    ["Camping", "Zelt"], ["Klettern", "Seil"], ["Fitness", "Hantel"], ["Tanzen", "Bewegung"], ["Musizieren", "Rhythmus"],
    ["Surfen", "Welle"], ["Basteln", "Idee"], ["Lesen", "Kapitel"], ["Wandern", "Pfad"], ["Kochen", "Pfanne"]
  ],
      natur: [
    ["Baum", "Wald"], ["Blume", "Duft"], ["Gras", "Wiese"], ["Berg", "Gipfel"], ["See", "Wasser"],
    ["Fluss", "Strom"], ["Meer", "Welle"], ["Himmel", "Wolke"], ["Wald", "Tiere"], ["Felsen", "Stein"],
    ["Sonne", "Licht"], ["Mond", "Nacht"], ["Stern", "Himmel"], ["Regen", "Tropfen"], ["Schnee", "K√§lte"],
    ["W√ºste", "Sand"], ["Tal", "Boden"], ["Vulkan", "Lava"], ["Insel", "Meer"], ["Ozean", "Weite"],
    ["Strand", "Muschel"], ["Wind", "Brise"], ["Nebel", "Feuchtigkeit"], ["Eis", "K√§lte"], ["Flamme", "Feuer"],
    ["Wasserfall", "H√∂he"], ["Gletscher", "Eis"], ["H√∂hle", "Dunkelheit"], ["Feld", "Ernte"], ["Busch", "Bl√§tter"],
    ["Ast", "Zweig"], ["Biene", "Honig"], ["Schmetterling", "Fl√ºgel"], ["Vogel", "Nest"], ["Reh", "Wald"],
    ["Pilz", "Wald"], ["Laub", "Herbst"], ["Saat", "Korn"], ["Frucht", "Baum"], ["Blatt", "Gr√ºn"],
    ["Fisch", "Wasser"], ["Koralle", "Meer"], ["M√∂we", "Strand"], ["Tanne", "Winter"], ["Eule", "Nacht"],
    ["Fuchs", "Wald"], ["Bergsee", "Spiegelung"], ["Hirsch", "Geweih"], ["Kiesel", "Strand"], ["Moos", "Feuchtigkeit"]
  ],
      sonstiges: [
    ["Auto", "Benzin"], ["Stra√üe", "Ampel"], ["Bus", "Haltestelle"], ["Zug", "Schiene"], ["Flugzeug", "Start"],
    ["Fahrrad", "Helm"], ["Supermarkt", "Einkaufswagen"], ["Restaurant", "Besteck"], ["Kaffee", "Bohne"], ["Arbeit", "B√ºro"],
    ["Lampe", "Licht"], ["Musik", "Kopfh√∂rer"], ["Handy", "Display"], ["Internet", "Browser"], ["Schl√ºssel", "Schloss"],
    ["K√ºche", "Herd"], ["Badezimmer", "Spiegel"], ["Garten", "Blume"], ["Briefkasten", "Post"], ["Geldb√∂rse", "M√ºnze"],
    ["Kino", "Leinwand"], ["Stadt", "H√§user"], ["Land", "Grenze"], ["Wald", "B√§ume"], ["Strand", "Sand"],
    ["Berg", "Gipfel"], ["See", "Boot"], ["Deutschland", "Berlin"], ["Frankreich", "Paris"], ["Italien", "Rom"],
    ["Japan", "Tokyo"], ["Kanada", "Ahorn"], ["USA", "Freiheit"], ["Schweiz", "Berge"], ["Schweden", "Winter"],
    ["Norwegen", "Fjord"], ["Regen", "Wolken"], ["Sonne", "Hitze"], ["Mond", "Nacht"], ["Stern", "Himmel"],
    ["Zeit", "Uhr"], ["Freundschaft", "L√§cheln"], ["Abenteuer", "Mut"], ["Wissen", "Buch"], ["Tr√§ume", "Schlaf"],
    ["Zukunft", "Plan"], ["Gl√ºck", "Zufall"], ["Magie", "Zauber"], ["Technik", "Fortschritt"], ["Natur", "Leben"]
  ],
      test: [
    ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"],
    ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], 
    ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"], ["Test", "Test1"]
  ],
      mix: [
    ["Chaos", "Zimmer"], ["Lachen", "Witz"], ["Regenschirm", "Tropfen"], ["Sandwich", "Picknick"], ["Kamera", "Erinnerung"],
    ["Fernsehen", "Abend"], ["Stau", "Auto"], ["Kalender", "Termin"], ["Kerze", "Feier"], ["Brille", "Sehen"],
    ["Uhr", "Sekunde"], ["Laptop", "Arbeit"], ["Kissen", "Schlaf"], ["Fahrrad", "Stra√üe"], ["Wolke", "Regen"],
    ["Post", "Brief"], ["Maske", "Gesicht"], ["Buch", "Kapitel"], ["Lampe", "Nacht"], ["Reise", "Koffer"],
    ["Treppen", "Stufen"], ["Zug", "Bahnhof"], ["Energie", "Kraftwerk"], ["Spiel", "Freizeit"], ["Zettel", "Notiz"],
    ["Kerze", "Duft"], ["Bus", "Ticket"], ["Zeitung", "Artikel"], ["Schl√ºssel", "T√ºr"], ["Handy", "Anruf"],
    ["Licht", "Schalter"], ["Br√ºcke", "Fluss"], ["Markt", "Obst"], ["Hemd", "Knopf"], ["Karte", "Weg"],
    ["Wolke", "Himmel"], ["Fenster", "Ausblick"], ["Stein", "Erinnerung"], ["Radio", "Musik"], ["Ufer", "See"],
    ["Park", "Bank"], ["Turm", "Aussicht"], ["Tasse", "Tee"], ["Ball", "Spiel"], ["Auto", "Reise"],
    ["Foto", "Erinnerung"], ["Film", "Abend"], ["Ticket", "Reise"], ["Stra√üe", "Ziel"], ["Buch", "Titel"]
  ]
    };

    let players = [], selectedWords = [];
    let usedWords = JSON.parse(localStorage.getItem("usedWords") || "[]");
    let currentIndex = 0, imposterIndex = 0;
    let realWord = "", imposterHint = "", starter = "";
    let roundStartTime = 0, timerInterval;
    let points = JSON.parse(localStorage.getItem("points") || "{}");
    let playerCount = 4;
    let imposterCount = 1;
    let showHints = true;
    
    function changePlayerCount(n) {
      playerCount = Math.min(12, Math.max(3, playerCount + n));
      document.getElementById("playerCountDisplay").textContent = playerCount;
      updateNameInputs();
    }
    
    function changeImposterCount(n) {
      imposterCount = Math.min(3, Math.max(1, imposterCount + n));
      document.getElementById("imposterCountDisplay").textContent = imposterCount;
    }


    function updateNameInputs() {
      const container = document.getElementById("nameInputs");
      container.innerHTML = "";
      const saved = JSON.parse(localStorage.getItem("imposter_names") || "[]");
      for (let i = 0; i < playerCount; i++) {
        const input = document.createElement("input");
        input.placeholder = `Name Spieler ${i + 1}`;
        input.id = `player${i}`;
        input.value = saved[i] || "";
        container.appendChild(input);
      }
      const startBtn = document.createElement("button");
      startBtn.textContent = "Spiel starten";
      startBtn.onclick = startGame;
      container.appendChild(startBtn);
    }

    function toggleCategoryMenu() {
      document.getElementById("categoryList").classList.toggle("visible");
    }

    function generateCategoryCheckboxes() {
      const container = document.getElementById("categoryList");
      container.innerHTML = `
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
          <button type="button" onclick="selectAllCategories(true)" style="background:#4CAF50;width:48%;font-size:0.9em;">Alle ausw√§hlen</button>
          <button type="button" onclick="selectAllCategories(false)" style="background:#e53935;width:48%;font-size:0.9em;">Alle abw√§hlen</button>
        </div>
      `;
    
      for (let cat in wordPool) {
        const isChecked = cat !== "test"; // ‚úÖ alles aktiv, au√üer test
        const label = document.createElement("label");
        label.innerHTML = `<input type="checkbox" value="${cat}" ${isChecked ? "checked" : ""}> ${cat.charAt(0).toUpperCase() + cat.slice(1)}`;
        container.appendChild(label);
      }
    }

    function selectAllCategories(selectAll) {
      document.querySelectorAll('#categoryList input[type="checkbox"]').forEach(cb => {
        cb.checked = selectAll;
  });
}



    function startGame() {
      showHints = document.getElementById("hintSwitch").checked;
      players = [];
      for (let i = 0; i < playerCount; i++) {
        const name = document.getElementById(`player${i}`).value.trim();
        if (!name) return alert("Bitte alle Namen eingeben!");
        players.push(name);
        if (!points[name]) points[name] = 0;
      }
      localStorage.setItem("imposter_names", JSON.stringify(players));
      localStorage.setItem("points", JSON.stringify(points));

      const selectedCategories = [...document.querySelectorAll("#categoryList input:checked")].map(cb => cb.value);
      selectedWords = selectedCategories.flatMap(cat => wordPool[cat]);
      shuffle(players);
      const word = getRandomWord();
      realWord = word[0];
      imposterHint = word[1];
      imposterIndex = Math.floor(Math.random() * players.length);

      const imposterIndices = [];
      while (imposterIndices.length < imposterCount) {
        const rand = Math.floor(Math.random() * players.length);
        if (!imposterIndices.includes(rand)) imposterIndices.push(rand);
      }
      imposterIndex = imposterIndices; // speichert alle Imposter
      starter = players[Math.floor(Math.random() * players.length)];
      currentIndex = 0;
      roundStartTime = 0;
      document.getElementById("setup").style.display = "none";
      document.getElementById("game").style.display = "block";
      showPlayerCard();
    }

    function showPlayerCard() {
      const player = players[currentIndex];
      document.getElementById("playerName").textContent = player;
      document.getElementById("statusText").textContent = "";
      document.getElementById("wordCard").textContent = "üóùÔ∏è Wort anzeigen...";
      document.getElementById("swipeCard").style.transform = "translateY(0)";
      document.getElementById("cardContainer").style.display = "block";
      document.getElementById("nextBtn").style.display = "none";
      document.getElementById("startRoundBtn").style.display = "none";
      document.getElementById("revealImposterBtn").style.display = "none";
      document.getElementById("crewWinBtn").style.display = "none";
      document.getElementById("imposterWinBtn").style.display = "none";
      document.getElementById("restartBtn").style.display = "none";
      document.getElementById("resetPointsBtn").style.display = "none";
      document.getElementById("reveal").textContent = "";
      document.getElementById("timerDisplay").style.display = "none";
      setupSwipe();
    }

    function setupSwipe() {
      const swipeCard = document.getElementById("swipeCard");
      const wordCard = document.getElementById("wordCard");
      let startY = 0, moved = false;

      swipeCard.ontouchstart = e => {
        startY = e.touches[0].clientY;
        moved = false;
      };
      swipeCard.ontouchmove = e => {
        const deltaY = startY - e.touches[0].clientY;
        if (deltaY > 0) {
          swipeCard.style.transition = 'none';
          swipeCard.style.transform = `translateY(-${deltaY}px)`;
          if (imposterIndex.includes(currentIndex)) {
            wordCard.textContent = showHints
              ? `üòà Du bist der Imposter!\nüí° Hinweis: ${imposterHint}`
              : `üòà Du bist der Imposter!`;
          } else {
            wordCard.textContent = `‚úÖ ${realWord}`;
          }
          moved = true;
        }
      };
      swipeCard.ontouchend = () => {
        if (!moved) return;
        swipeCard.style.transition = 'transform 0.35s cubic-bezier(0.25, 1.5, 0.5, 1)'; // ü™Ñ Feder-Animation
        swipeCard.style.transform = 'translateY(0)';
        
        // Optionales kurzes Aufleuchten
        swipeCard.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.5)';
        setTimeout(() => swipeCard.style.boxShadow = '0 6px 20px rgba(0,0,0,0.3)', 300);
      
        if (currentIndex < players.length - 1) {
          document.getElementById("nextBtn").style.display = "block";
        } else {
          document.getElementById("nextBtn").style.display = "none";
          document.getElementById("startRoundBtn").style.display = "block";
        }
      };

    }

    function nextPlayer() {
      currentIndex++;
      showPlayerCard();
    }

    function showStarter() {
      document.getElementById("cardContainer").style.display = "none";
      document.getElementById("playerName").textContent = "";
      document.getElementById("startRoundBtn").style.display = "none";
      document.getElementById("statusText").textContent = `üé≤ ${starter} beginnt die Runde!`;
      document.getElementById("timerDisplay").style.display = "block";
      roundStartTime = Date.now();
      clearInterval(timerInterval);
      timerInterval = setInterval(updateTimer, 1000);
      document.getElementById("revealImposterBtn").style.display = "block";
    }

    function updateTimer() {
      const elapsed = Math.floor((Date.now() - roundStartTime) / 1000);
      const min = String(Math.floor(elapsed / 60)).padStart(2, '0');
      const sec = String(elapsed % 60).padStart(2, '0');
      document.getElementById("timerDisplay").textContent = `‚è±Ô∏è Zeit: ${min}:${sec}`;
    }

    function revealImposter() {
      clearInterval(timerInterval);
      document.getElementById("statusText").textContent = "";
      document.getElementById("timerDisplay").style.display = "none";
      const imposters = imposterIndex.map(i => players[i]).join(", ");
      const timePassed = Math.floor((Date.now() - roundStartTime) / 1000);
      const minutes = Math.floor(timePassed / 60);
      const seconds = timePassed % 60;
      document.getElementById("reveal").textContent = `üòà Imposter: ${imposters}\nWort: ${realWord}\nZeit: ${minutes} min ${seconds} sek`;
      document.getElementById("revealImposterBtn").style.display = "none";
      document.getElementById("crewWinBtn").style.display = "block";
      document.getElementById("imposterWinBtn").style.display = "block";
    }

    function awardPoints(imposterWon) {
      if (imposterWon) {
        imposterIndex.forEach(i => points[players[i]] += 2);
      } else {
        players.forEach((p, i) => {
          if (!imposterIndex.includes(i)) points[p] += 1;
        });
      }
      localStorage.setItem("points", JSON.stringify(points));
    
      // üëâ Nur aktuelle Spieler anzeigen
      let txt = "üèÜ Punktestand (aktuelle Runde):\n";
      players.forEach(p => {
        txt += `${p}: ${points[p]} Punkte\n`;
      });
    
      document.getElementById("reveal").textContent += `\n\n${txt}`;
      document.getElementById("crewWinBtn").style.display = "none";
      document.getElementById("imposterWinBtn").style.display = "none";
      document.getElementById("restartBtn").style.display = "block";
      document.getElementById("resetPointsBtn").style.display = "block";
    }


    function resetPoints() {
      for (let p in points) points[p] = 0;
      localStorage.setItem("points", JSON.stringify(points));
      document.getElementById("reveal").textContent += `\n\n‚ùå Punkte wurden gel√∂scht!`;
      document.getElementById("resetPointsBtn").style.display = "none";
    }

    function startNewRound() {
      document.getElementById("reveal").textContent = "";
      document.getElementById("restartBtn").style.display = "none";
    
      const word = getRandomWord();
      realWord = word[0];
      imposterHint = word[1];
      imposterIndex = Math.floor(Math.random() * players.length);
      starter = players[Math.floor(Math.random() * players.length)];
      currentIndex = 0;
    
      showPlayerCard();
    
      // üîÅ Swipe-Funktion nach jeder neuen Runde wieder aktivieren
      setupSwipe();
    }
    }

    function getRandomWord() {
      let available = selectedWords.filter(w => !usedWords.includes(w[0]));
      if (available.length === 0) { usedWords = []; available = selectedWords; }
      const word = available[Math.floor(Math.random() * available.length)];
      usedWords.push(word[0]);
      return word;
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    window.onload = () => {
      generateCategoryCheckboxes();
      updateNameInputs();
};
  </script>
</body>
</html>
 
